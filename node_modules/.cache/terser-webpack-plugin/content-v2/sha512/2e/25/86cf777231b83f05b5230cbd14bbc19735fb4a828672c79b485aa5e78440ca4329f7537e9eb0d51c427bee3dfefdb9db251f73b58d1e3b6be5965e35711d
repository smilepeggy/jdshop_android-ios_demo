{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{BVaq:function(l,n,u){\"use strict\";u.r(n);var t=u(\"8Y7J\");class o{}var s=u(\"pMnS\"),e=u(\"oBZk\"),i=u(\"ZZ/e\"),r=u(\"SVse\"),c=u(\"iInd\"),a=u(\"mrSG\"),b=u(\"n90K\"),d=u(\"OlR4\");class h{constructor(l,n,u,t){this.storage=l,this.common=n,this.navController=u,this.alertController=t,this.userinfo={},this.list=[];const o=this.storage.get(\"userinfo\");this.userinfo=o}ngOnInit(){}ionViewDidEnter(){this.getAddressList()}getAddressList(){const l=this.common.sign({uid:this.userinfo._id,salt:this.userinfo.salt});this.common.ajaxGet(\"api/addressList?uid=\"+this.userinfo._id+\"&sign=\"+l).then(l=>{console.log(l),this.list=l.result})}changeDefaultAddress(l){const n=this.common.sign({uid:this.userinfo._id,id:l,salt:this.userinfo.salt});console.log(n),this.common.ajaxPost(\"api/changeDefaultAddress\",{uid:this.userinfo._id,id:l,sign:n}).then(l=>{l.success?this.navController.navigateBack(\"/checkout\"):alert(l.message)})}removeAddress(l,n){return a.b(this,void 0,void 0,(function*(){console.log(l,n);const u=yield this.alertController.create({backdropDismiss:!1,header:\"Confirm!\",message:\"Confirm to <strong>Cancel</strong>!!!\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:l=>{console.log(\"Confirm Cancel: blah\")}},{text:\"Okay\",handler:()=>{console.log(\"Confirm Okay\"+l),this.doRemoveAddress(l,n)}}]});yield u.present()}))}doRemoveAddress(l,n){const u=this.common.sign({uid:this.userinfo._id,salt:this.userinfo.salt,id:n});console.log(u),this.common.ajaxPost(\"api/deleteAddress\",{uid:this.userinfo._id,sign:u,id:n}).then(n=>{n.success?this.list.splice(l,1):alert(n.message)})}}var m=t.pb({encapsulation:0,styles:[[\".address_list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}\"]],data:{}});function k(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,1,\"ion-icon\",[[\"color\",\"danger\"],[\"name\",\"checkmark\"],[\"slot\",\"start\"]],null,null,null,e.X,e.n)),t.qb(1,49152,null,0,i.E,[t.h,t.k,t.x],{color:[0,\"color\"],name:[1,\"name\"]},null)],(function(l,n){l(n,1,0,\"danger\",\"checkmark\")}),null)}function f(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,14,\"ion-item\",[],null,null,null,e.cb,e.r)),t.qb(1,49152,null,0,i.J,[t.h,t.k,t.x],null,null),(l()(),t.gb(16777216,null,0,1,null,k)),t.qb(3,16384,null,0,r.j,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null),(l()(),t.rb(4,0,null,0,5,\"ion-label\",[],null,[[null,\"click\"],[null,\"press\"]],(function(l,n,u){var t=!0,o=l.component;return\"click\"===n&&(t=!1!==o.changeDefaultAddress(l.context.$implicit._id)&&t),\"press\"===n&&(t=!1!==o.removeAddress(l.context.index,l.context.$implicit._id)&&t),t}),e.db,e.t)),t.qb(5,49152,null,0,i.P,[t.h,t.k,t.x],null,null),(l()(),t.rb(6,0,null,0,1,\"h2\",[],null,null,null,null,null)),(l()(),t.Ib(7,null,[\"\",\" \",\"\"])),(l()(),t.rb(8,0,null,0,1,\"p\",[],null,null,null,null,null)),(l()(),t.Ib(9,null,[\"\",\"\"])),(l()(),t.rb(10,0,null,0,4,\"ion-icon\",[[\"color\",\"primary\"],[\"name\",\"create\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],(function(l,n,u){var o=!0;return\"click\"===n&&(o=!1!==t.Cb(l,12).onClick()&&o),\"click\"===n&&(o=!1!==t.Cb(l,14).onClick(u)&&o),o}),e.X,e.n)),t.qb(11,49152,null,0,i.E,[t.h,t.k,t.x],{color:[0,\"color\"],name:[1,\"name\"]},null),t.qb(12,16384,null,0,c.n,[c.m,c.a,[8,null],t.B,t.k],{queryParams:[0,\"queryParams\"],routerLink:[1,\"routerLink\"]},null),t.Db(13,1),t.qb(14,737280,null,0,i.Nb,[r.g,i.Jb,t.k,c.m,[2,c.n]],null,null)],(function(l,n){l(n,3,0,n.context.$implicit.default_address),l(n,11,0,\"primary\",\"create\");var u=n.context.$implicit,t=l(n,13,0,\"/addressedit\");l(n,12,0,u,t),l(n,14,0)}),(function(l,n){l(n,7,0,n.context.$implicit.name,n.context.$implicit.phone),l(n,9,0,n.context.$implicit.address)}))}function g(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,11,\"ion-header\",[],null,null,null,e.W,e.m)),t.qb(1,49152,null,0,i.D,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,9,\"ion-toolbar\",[],null,null,null,e.tb,e.J)),t.qb(3,49152,null,0,i.Eb,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,e.P,e.f)),t.qb(5,49152,null,0,i.n,[t.h,t.k,t.x],null,null),(l()(),t.rb(6,0,null,0,2,\"ion-back-button\",[[\"color\",\"dark\"],[\"defaultHref\",\"/tabs/tab1\"]],null,[[null,\"click\"]],(function(l,n,u){var o=!0;return\"click\"===n&&(o=!1!==t.Cb(l,8).onClick(u)&&o),o}),e.M,e.c)),t.qb(7,49152,null,0,i.i,[t.h,t.k,t.x],{color:[0,\"color\"],defaultHref:[1,\"defaultHref\"]},null),t.qb(8,16384,null,0,i.j,[[2,i.kb],i.Jb],{defaultHref:[0,\"defaultHref\"]},null),(l()(),t.rb(9,0,null,0,2,\"ion-title\",[],null,null,null,e.sb,e.I)),t.qb(10,49152,null,0,i.Cb,[t.h,t.k,t.x],null,null),(l()(),t.Ib(-1,0,[\" Addresslist\"])),(l()(),t.rb(12,0,null,null,5,\"ion-content\",[],null,null,null,e.S,e.i)),t.qb(13,49152,null,0,i.w,[t.h,t.k,t.x],null,null),(l()(),t.rb(14,0,null,0,3,\"ion-list\",[[\"class\",\"address_list\"]],null,null,null,e.eb,e.u)),t.qb(15,49152,null,0,i.Q,[t.h,t.k,t.x],null,null),(l()(),t.gb(16777216,null,0,1,null,f)),t.qb(17,278528,null,0,r.i,[t.M,t.J,t.q],{ngForOf:[0,\"ngForOf\"]},null),(l()(),t.rb(18,0,null,null,9,\"ion-footer\",[],null,null,null,e.U,e.k)),t.qb(19,49152,null,0,i.B,[t.h,t.k,t.x],null,null),(l()(),t.rb(20,0,null,0,7,\"ion-toolbar\",[],null,null,null,e.tb,e.J)),t.qb(21,49152,null,0,i.Eb,[t.h,t.k,t.x],null,null),(l()(),t.rb(22,0,null,0,5,\"ion-button\",[[\"class\",\"jd_btn\"],[\"color\",\"danger\"]],null,[[null,\"click\"]],(function(l,n,u){var o=!0;return\"click\"===n&&(o=!1!==t.Cb(l,24).onClick()&&o),\"click\"===n&&(o=!1!==t.Cb(l,26).onClick(u)&&o),o}),e.O,e.e)),t.qb(23,49152,null,0,i.m,[t.h,t.k,t.x],{color:[0,\"color\"]},null),t.qb(24,16384,null,0,c.n,[c.m,c.a,[8,null],t.B,t.k],{routerLink:[0,\"routerLink\"]},null),t.Db(25,1),t.qb(26,737280,null,0,i.Nb,[r.g,i.Jb,t.k,c.m,[2,c.n]],null,null),(l()(),t.Ib(-1,0,[\" +Add Address \"]))],(function(l,n){var u=n.component;l(n,7,0,\"dark\",\"/tabs/tab1\"),l(n,8,0,\"/tabs/tab1\"),l(n,17,0,u.list),l(n,23,0,\"danger\");var t=l(n,25,0,\"/addressadd\");l(n,24,0,t),l(n,26,0)}),null)}function p(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,1,\"app-addresslist\",[],null,null,null,g,m)),t.qb(1,114688,null,0,h,[b.a,d.a,i.Jb,i.b],null,null)],(function(l,n){l(n,1,0)}),null)}var x=t.nb(\"app-addresslist\",h,p,{},{},[]),A=u(\"s7LF\");class q{}u.d(n,\"AddresslistPageModuleNgFactory\",(function(){return C}));var C=t.ob(o,[],(function(l){return t.zb([t.Ab(512,t.j,t.Z,[[8,[s.a,x]],[3,t.j],t.v]),t.Ab(4608,r.l,r.k,[t.s,[2,r.y]]),t.Ab(4608,A.i,A.i,[]),t.Ab(4608,i.c,i.c,[t.x,t.g]),t.Ab(4608,i.Ib,i.Ib,[i.c,t.j,t.p]),t.Ab(4608,i.Lb,i.Lb,[i.c,t.j,t.p]),t.Ab(1073742336,r.b,r.b,[]),t.Ab(1073742336,A.h,A.h,[]),t.Ab(1073742336,A.c,A.c,[]),t.Ab(1073742336,i.Gb,i.Gb,[]),t.Ab(1073742336,c.o,c.o,[[2,c.t],[2,c.m]]),t.Ab(1073742336,q,q,[]),t.Ab(1073742336,o,o,[]),t.Ab(1024,c.k,(function(){return[[{path:\"\",component:h}]]}),[])])}))}}]);","extractedComments":[]}