(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4bGg":function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class o{}var r=u("pMnS"),i=u("oBZk"),e=u("ZZ/e"),s=u("iInd"),c=u("SVse"),b=u("s7LF"),a=u("n90K"),d=u("OlR4"),h=u("c14U");class g{constructor(l,n,u,t,o){this.activatedRoute=l,this.navController=n,this.storage=u,this.common=t,this.cartservice=o,this.returnUrl="",this.userinfo={},this.productList=[],this.config={},this.addressList={},this.allPrice=0,this.config=this.common.config}ngOnInit(){this.activatedRoute.queryParams.subscribe(l=>{console.log(l),this.returnUrl=l.returnUrl?l.returnUrl:"/tabs/tab3"})}ionViewDidEnter(){const l=this.storage.get("userinfo");l&&l.username?(this.userinfo=l,console.log(this.userinfo),this.getDefaultAddress()):(this.userinfo="",console.log(this.userinfo)),this.productList=this.storage.get("checkoutData"),console.log(this.productList),this.allPrice=this.cartservice.getAllprice(this.productList)}goBack(){this.navController.navigateBack(this.returnUrl)}getDefaultAddress(){const l=this.common.sign({uid:this.userinfo._id,salt:this.userinfo.salt});console.log(l),this.common.ajaxGet("api/oneAddressList?uid="+this.userinfo._id+"&sign="+l).then(l=>{console.log(l),l.success?(this.addressList=l.result[0],console.log(this.addressList)):alert(l.message)})}doOrder(){if(this.userinfo)if(this.addressList){const l=this.addressList.address,n=this.addressList.phone,u=this.addressList.name,t=this.allPrice,o=JSON.stringify(this.productList),r=this.common.sign({uid:this.userinfo._id,salt:this.userinfo.salt,address:l,phone:n,name:u,products:o,all_price:t});this.common.ajaxPost("api/doOrder",{uid:this.userinfo._id,salt:this.userinfo.salt,address:l,phone:n,name:u,all_price:t,sign:r,products:o}).then(l=>{console.log(l),this.removeCartSelected(),l.success?this.navController.navigateForward(["/payment"],{queryParams:{order_id:l.result.order_id}}):alert(l.message)})}else alert("Please choose your Address");else this.navController.navigateForward(["/login"],{queryParams:{returnUrl:"/checkout"}})}removeCartSelected(){const l=[],n=this.storage.get("cartlist");console.log(n);for(const u of n)u.checked||(l.push(u),console.log(l));this.storage.set("cartlist",l)}}var k=t.pb({encapsulation:0,styles:[[".order[_ngcontent-%COMP%]{background:#eee}.order[_ngcontent-%COMP%]   .address_list[_ngcontent-%COMP%]{background:#fff}.order[_ngcontent-%COMP%]   .address_list[_ngcontent-%COMP%]   .nologin[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:14px}.order[_ngcontent-%COMP%]   .address_list[_ngcontent-%COMP%]   .nologin[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0 auto}.order[_ngcontent-%COMP%]   .product_list[_ngcontent-%COMP%]{background:#fff;margin-bottom:10px}.order[_ngcontent-%COMP%]   .product_list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.order[_ngcontent-%COMP%]   .product_list[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{float:right}.order[_ngcontent-%COMP%]   .order_info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.4rem;line-height:2}.order[_ngcontent-%COMP%]   .order_info[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.4rem}.list-ios[_ngcontent-%COMP%]{margin-bottom:10px}ion-item-divider[_ngcontent-%COMP%]{min-height:10px!important}"]],data:{}});function p(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,7,"ion-item",[],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.Cb(l,2).onClick()&&o),"click"===n&&(o=!1!==t.Cb(l,4).onClick(u)&&o),o}),i.cb,i.r)),t.qb(1,49152,null,0,e.J,[t.h,t.k,t.x],null,null),t.qb(2,16384,null,0,s.n,[s.m,s.a,[8,null],t.B,t.k],{routerLink:[0,"routerLink"]},null),t.Db(3,1),t.qb(4,737280,null,0,e.Nb,[c.g,e.Jb,t.k,s.m,[2,s.n]],null,null),(l()(),t.rb(5,0,null,0,1,"ion-icon",[["color","light"],["name","pin"],["slot","start"]],null,null,null,i.X,i.n)),t.qb(6,49152,null,0,e.E,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.Ib(-1,0,[" Please add your pickup address "]))],(function(l,n){var u=l(n,3,0,"/addresslist");l(n,2,0,u),l(n,4,0),l(n,6,0,"light","pin")}),null)}function f(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,10,"ion-item",[],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.Cb(l,2).onClick()&&o),"click"===n&&(o=!1!==t.Cb(l,4).onClick(u)&&o),o}),i.cb,i.r)),t.qb(1,49152,null,0,e.J,[t.h,t.k,t.x],null,null),t.qb(2,16384,null,0,s.n,[s.m,s.a,[8,null],t.B,t.k],{routerLink:[0,"routerLink"]},null),t.Db(3,1),t.qb(4,737280,null,0,e.Nb,[c.g,e.Jb,t.k,s.m,[2,s.n]],null,null),(l()(),t.rb(5,0,null,0,5,"ion-label",[],null,null,null,i.db,i.t)),t.qb(6,49152,null,0,e.P,[t.h,t.k,t.x],null,null),(l()(),t.rb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Ib(8,null,[""," ",""])),(l()(),t.rb(9,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(10,null,["",""]))],(function(l,n){var u=l(n,3,0,"/addresslist");l(n,2,0,u),l(n,4,0)}),(function(l,n){var u=n.component;l(n,8,0,u.addressList.name,u.addressList.phone),l(n,10,0,u.addressList.address)}))}function m(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,5,"ion-list",[["lines","none"]],null,null,null,i.eb,i.u)),t.qb(1,49152,null,0,e.Q,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.gb(16777216,null,0,1,null,p)),t.qb(3,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,f)),t.qb(5,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,1,0,"none"),l(n,3,0,!u.addressList),l(n,5,0,u.addressList)}),null)}function _(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,16,"ion-list",[["class","nologin"],["lines","none"]],null,null,null,i.eb,i.u)),t.qb(1,49152,null,0,e.Q,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.rb(2,0,null,0,5,"ion-item",[],null,null,null,i.cb,i.r)),t.qb(3,49152,null,0,e.J,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,3,"ion-label",[],null,null,null,i.db,i.t)),t.qb(5,49152,null,0,e.P,[t.h,t.k,t.x],null,null),(l()(),t.rb(6,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Please Login..."])),(l()(),t.rb(8,0,null,0,8,"ion-item",[],null,null,null,i.cb,i.r)),t.qb(9,49152,null,0,e.J,[t.h,t.k,t.x],null,null),(l()(),t.rb(10,0,null,0,6,"ion-button",[["color","light"]],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.Cb(l,12).onClick()&&o),"click"===n&&(o=!1!==t.Cb(l,15).onClick(u)&&o),o}),i.O,i.e)),t.qb(11,49152,null,0,e.m,[t.h,t.k,t.x],{color:[0,"color"]},null),t.qb(12,16384,null,0,s.n,[s.m,s.a,[8,null],t.B,t.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),t.Eb(13,{returnUrl:0}),t.Db(14,1),t.qb(15,737280,null,0,e.Nb,[c.g,e.Jb,t.k,s.m,[2,s.n]],null,null),(l()(),t.Ib(-1,0,[" Login "]))],(function(l,n){l(n,1,0,"none"),l(n,11,0,"light");var u=l(n,13,0,"/checkout"),t=l(n,14,0,"/login");l(n,12,0,u,t),l(n,15,0)}),null)}function q(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,15,"ion-item",[],null,null,null,i.cb,i.r)),t.qb(1,49152,null,0,e.J,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,2,"ion-thumbnail",[["slot","start"]],null,null,null,i.rb,i.H)),t.qb(3,49152,null,0,e.Bb,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.rb(5,0,null,0,10,"ion-label",[],null,null,null,i.db,i.t)),t.qb(6,49152,null,0,e.P,[t.h,t.k,t.x],null,null),(l()(),t.rb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Ib(8,null,["",""])),(l()(),t.rb(9,0,null,0,4,"p",[],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,1,"span",[["class","price"]],null,null,null,null,null)),(l()(),t.Ib(11,null,["\xa5",""])),(l()(),t.rb(12,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(l()(),t.Ib(13,null,["x",""])),(l()(),t.rb(14,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(15,null,["Features & details\uff1a",""]))],null,(function(l,n){l(n,4,0,n.component.config.domain+n.context.$implicit.product_pic),l(n,8,0,n.context.$implicit.product_title),l(n,11,0,n.context.$implicit.product_price),l(n,13,0,n.context.$implicit.product_count),l(n,15,0,n.context.$implicit.product_attr)}))}function C(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,12,"ion-header",[],null,null,null,i.W,i.m)),t.qb(1,49152,null,0,e.D,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,10,"ion-toolbar",[],null,null,null,i.tb,i.J)),t.qb(3,49152,null,0,e.Eb,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,2,"ion-title",[],null,null,null,i.sb,i.I)),t.qb(5,49152,null,0,e.Cb,[t.h,t.k,t.x],null,null),(l()(),t.Ib(-1,0,["checkout"])),(l()(),t.rb(7,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,i.P,i.f)),t.qb(8,49152,null,0,e.n,[t.h,t.k,t.x],null,null),(l()(),t.rb(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goBack()&&t),t}),i.O,i.e)),t.qb(10,49152,null,0,e.m,[t.h,t.k,t.x],null,null),(l()(),t.rb(11,0,null,0,1,"ion-icon",[["color","dark"],["name","arrow-back"],["slot","icon-only"]],null,null,null,i.X,i.n)),t.qb(12,49152,null,0,e.E,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.rb(13,0,null,null,51,"ion-content",[],null,null,null,i.S,i.i)),t.qb(14,49152,null,0,e.w,[t.h,t.k,t.x],null,null),(l()(),t.rb(15,0,null,0,49,"div",[["class","order"]],null,null,null,null,null)),(l()(),t.rb(16,0,null,null,4,"div",[["class","address_list"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,m)),t.qb(18,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,_)),t.qb(20,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(21,0,null,null,4,"div",[["class","product_list"]],null,null,null,null,null)),(l()(),t.rb(22,0,null,null,3,"ion-list",[["lines","none"]],null,null,null,i.eb,i.u)),t.qb(23,49152,null,0,e.Q,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.gb(16777216,null,0,1,null,q)),t.qb(25,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(26,0,null,null,38,"div",[["class","order_info"]],null,null,null,null,null)),(l()(),t.rb(27,0,null,null,37,"ion-list",[["lines","none"]],null,null,null,i.eb,i.u)),t.qb(28,49152,null,0,e.Q,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.rb(29,0,null,0,8,"ion-item",[],null,null,null,i.cb,i.r)),t.qb(30,49152,null,0,e.J,[t.h,t.k,t.x],null,null),(l()(),t.rb(31,0,null,0,6,"ul",[],null,null,null,null,null)),(l()(),t.rb(32,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Online Pay"])),(l()(),t.rb(34,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["DHL "])),(l()(),t.rb(36,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Delivery in 2-3 days"])),(l()(),t.rb(38,0,null,0,1,"ion-item-divider",[],null,null,null,i.bb,i.s)),t.qb(39,49152,null,0,e.K,[t.h,t.k,t.x],null,null),(l()(),t.rb(40,0,null,0,14,"ion-item",[["class","order_price"]],null,null,null,i.cb,i.r)),t.qb(41,49152,null,0,e.J,[t.h,t.k,t.x],null,null),(l()(),t.rb(42,0,null,0,12,"ul",[],null,null,null,null,null)),(l()(),t.rb(43,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Sum "])),(l()(),t.rb(45,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["\xa5124214"])),(l()(),t.rb(47,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Discount "])),(l()(),t.rb(49,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["-\xa55"])),(l()(),t.rb(51,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Delivery fee "])),(l()(),t.rb(53,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["+\xa50"])),(l()(),t.rb(55,0,null,0,1,"ion-item-divider",[],null,null,null,i.bb,i.s)),t.qb(56,49152,null,0,e.K,[t.h,t.k,t.x],null,null),(l()(),t.rb(57,0,null,0,5,"ion-item",[],null,null,null,i.cb,i.r)),t.qb(58,49152,null,0,e.J,[t.h,t.k,t.x],null,null),(l()(),t.rb(59,0,null,0,3,"ion-input",[["placeholder","Optional : Write to seller"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var o=!0;return"ionBlur"===n&&(o=!1!==t.Cb(l,62)._handleBlurEvent(u.target)&&o),"ionChange"===n&&(o=!1!==t.Cb(l,62)._handleInputEvent(u.target)&&o),o}),i.ab,i.q)),t.Fb(5120,null,b.d,(function(l){return[l]}),[e.Pb]),t.qb(61,49152,null,0,e.I,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),t.qb(62,16384,null,0,e.Pb,[t.k],null,null),(l()(),t.rb(63,0,null,0,1,"ion-item-divider",[],null,null,null,i.bb,i.s)),t.qb(64,49152,null,0,e.K,[t.h,t.k,t.x],null,null),(l()(),t.rb(65,0,null,null,12,"ion-footer",[],null,null,null,i.U,i.k)),t.qb(66,49152,null,0,e.B,[t.h,t.k,t.x],null,null),(l()(),t.rb(67,0,null,0,10,"ion-toolbar",[],null,null,null,i.tb,i.J)),t.qb(68,49152,null,0,e.Eb,[t.h,t.k,t.x],null,null),(l()(),t.rb(69,0,null,0,3,"span",[["slot","start"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Total: "])),(l()(),t.rb(71,0,null,null,1,"span",[["class","price"]],null,null,null,null,null)),(l()(),t.Ib(72,null,[" \uff04",""])),(l()(),t.rb(73,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,i.P,i.f)),t.qb(74,49152,null,0,e.n,[t.h,t.k,t.x],null,null),(l()(),t.rb(75,0,null,0,2,"ion-button",[["color","danger"],["fill","solid"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.doOrder()&&t),t}),i.O,i.e)),t.qb(76,49152,null,0,e.m,[t.h,t.k,t.x],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),t.Ib(-1,0,[" Buy now "]))],(function(l,n){var u=n.component;l(n,12,0,"dark","arrow-back"),l(n,18,0,u.userinfo),l(n,20,0,!u.userinfo),l(n,23,0,"none"),l(n,25,0,u.productList),l(n,28,0,"none"),l(n,61,0,"Optional : Write to seller"),l(n,76,0,"danger","solid")}),(function(l,n){l(n,72,0,n.component.allPrice)}))}function P(l){return t.Jb(0,[(l()(),t.rb(0,0,null,null,1,"app-checkout",[],null,null,null,C,k)),t.qb(1,114688,null,0,g,[s.a,e.Jb,a.a,d.a,h.a],null,null)],(function(l,n){l(n,1,0)}),null)}var x=t.nb("app-checkout",g,P,{},{},[]);class v{}u.d(n,"CheckoutPageModuleNgFactory",(function(){return O}));var O=t.ob(o,[],(function(l){return t.zb([t.Ab(512,t.j,t.Z,[[8,[r.a,x]],[3,t.j],t.v]),t.Ab(4608,c.l,c.k,[t.s,[2,c.y]]),t.Ab(4608,b.i,b.i,[]),t.Ab(4608,e.c,e.c,[t.x,t.g]),t.Ab(4608,e.Ib,e.Ib,[e.c,t.j,t.p]),t.Ab(4608,e.Lb,e.Lb,[e.c,t.j,t.p]),t.Ab(1073742336,c.b,c.b,[]),t.Ab(1073742336,b.h,b.h,[]),t.Ab(1073742336,b.c,b.c,[]),t.Ab(1073742336,e.Gb,e.Gb,[]),t.Ab(1073742336,s.o,s.o,[[2,s.t],[2,s.m]]),t.Ab(1073742336,v,v,[]),t.Ab(1073742336,o,o,[]),t.Ab(1024,s.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);